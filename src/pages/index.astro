---
/* Astro frontmatter bo‚Äòsh */
---


<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TEMURrentUZ - Global Auto Rental</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --primary:#3b82f6;
      --secondary:#10b981;
      --dark:#070b14;
      --card-bg:rgba(255,255,255,0.06);
      --border:rgba(255,255,255,0.1);
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:Inter,system-ui,Arial,sans-serif}
    body{
      background:radial-gradient(circle at top right,#1e293b,#070b14);
      color:#f8fafc;min-height:100vh;overflow-x:hidden;
    }

    /* ===== Overlay System ===== */
    #overlay-screen{
      position:fixed;inset:0;background:var(--dark);z-index:1000;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      transition:.5s ease;padding:20px;
    }
    .overlay-top{
      width:min(1100px,95%);
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      flex-wrap:wrap;
    }
    #overlay-title{font-size:20px;font-weight:800;letter-spacing:-.5px}
    .overlay-search{
      width:min(520px,100%);
      display:flex;gap:10px;align-items:center;
    }
    .overlay-search input{
      width:100%;
      padding:12px 14px;border-radius:12px;border:1px solid var(--border);
      background:rgba(15,23,42,.6);color:white;outline:none;
    }

    .scroll-grid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
      gap:15px;max-width:1100px;width:95%;margin-top:18px;
      max-height:70vh;overflow-y:auto;padding:10px;
    }
    .action-btn{
      padding:12px;background:var(--card-bg);border:1px solid var(--border);
      color:white;border-radius:12px;cursor:pointer;transition:.25s;
      font-size:14px;text-align:left;display:flex;gap:10px;align-items:center;
      user-select:none;
    }
    .action-btn:hover{background:var(--primary);transform:translateY(-3px)}
    .badge{
      margin-left:auto;
      font-size:12px;opacity:.85;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      padding:2px 8px;border-radius:999px;
    }

    /* ===== Header ===== */
    header{
      padding:16px 5%;display:flex;justify-content:space-between;align-items:center;
      background:rgba(7,11,20,.8);backdrop-filter:blur(15px);
      border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;
    }
    .logo img{height:70px;object-fit:contain;display:block;transition:.2s}
    .logo img:hover{transform:scale(1.04)}

    .container{max-width:1000px;margin:40px auto;padding:0 20px}
    .card{
      background:var(--card-bg);backdrop-filter:blur(25px);
      border:1px solid var(--border);border-radius:30px;padding:35px;
      animation:fadeIn .45s ease;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(15px)}
      to{opacity:1;transform:translateY(0)}
    }

    .choice-btns{display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .choice-card{
      padding:40px 20px;text-align:center;border-radius:25px;cursor:pointer;
      transition:.35s;border:1px solid var(--border);background:var(--card-bg);
    }
    .choice-card:hover{border-color:var(--primary);transform:translateY(-5px)}

    input{
      width:100%;padding:14px;border-radius:12px;border:1px solid var(--border);
      background:rgba(15,23,42,.6);color:white;margin-bottom:15px;outline:none;
    }
    .hidden{display:none}
    .btn-submit{
      width:100%;padding:16px;background:var(--primary);border:none;color:white;
      font-weight:800;border-radius:15px;cursor:pointer;font-size:16px;
    }

    .car-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-top:20px}
    .car-item{
      background:rgba(255,255,255,.03);border:1px solid var(--border);
      border-radius:20px;padding:20px;transition:.25s;position:relative;
    }
    .car-item:hover{background:rgba(255,255,255,.08);border-color:var(--secondary)}
    .car-price{font-size:20px;font-weight:900;color:var(--secondary)}
    .car-tag{position:absolute;top:10px;right:10px;font-size:10px;background:var(--primary);padding:4px 8px;border-radius:8px}

    /* RTL */
    [dir="rtl"] .action-btn{ text-align:right; }
  </style>
</head>

<body>

  <!-- Overlay -->
  <div id="overlay-screen">
    <div class="overlay-top">
      <h2 id="overlay-title">Select Language</h2>

      <div class="overlay-search">
        <input id="overlay-search" type="text" placeholder="Search..." />
        <button class="action-btn" id="overlay-back-btn" style="display:none;justify-content:center;">
          <i class="fa-solid fa-arrow-left"></i>
        </button>
      </div>
    </div>

    <div class="scroll-grid" id="overlay-content"></div>
  </div>

  <header>
    <div class="logo">
      <img src="logo.png" alt="TEMURrentCar Logo">
    </div>
    <div>
      <i class="fas fa-user-circle"></i>
      <span id="txt-login">Login</span>
    </div>
  </header>

  <div class="container">

    <div id="step-choice" class="choice-btns">
      <div class="choice-card" onclick="showRegistration('give')">
        <i class="fas fa-key fa-3x" style="color: var(--primary); margin-bottom: 15px;"></i>
        <h3 id="txt-give">Rent Out</h3>
        <p id="txt-givesub" style="font-size: 13px; opacity: 0.5;">Add a car</p>
      </div>

      <div class="choice-card" onclick="showRegistration('take')">
        <i class="fas fa-search fa-3x" style="color: var(--secondary); margin-bottom: 15px;"></i>
        <h3 id="txt-take">Rent In</h3>
        <p id="txt-takesub" style="font-size: 13px; opacity: 0.5;">Search car</p>
      </div>
    </div>

    <div id="form-register" class="card hidden">
      <h2 id="reg-title" style="margin-bottom: 25px; text-align: center;">Registration</h2>

      <input type="text" id="inp-name" placeholder="Full Name">

      <div style="display:flex;gap:10px;margin-bottom:15px;">
        <button onclick="openCountryPicker()" id="country-code" style="flex:0.35;height:50px;" class="action-btn">
          <span id="country-flag">üá∫üáø</span>
          <span id="country-dial">+998</span>
          <span class="badge" style="margin-left:auto;">Pick</span>
        </button>

        <input type="text" id="inp-phone" placeholder="Phone" style="flex:1;margin-bottom:0;">
      </div>

      <div id="extra-fields" class="hidden">
        <input type="text" id="inp-model" placeholder="Car Model">
        <input type="text" id="inp-loc" placeholder="Location">
        <div style="display:flex;gap:10px;">
          <input type="number" id="inp-mon" placeholder="Monthly ($)">
          <input type="number" id="inp-year" placeholder="Yearly ($)">
        </div>
      </div>

      <button class="btn-submit" id="btn-next" onclick="handleFormSubmit()">Continue</button>
      <p onclick="goBack()" style="text-align:center;margin-top:15px;cursor:pointer;opacity:.4;" id="txt-back">‚Üê Back</p>
    </div>

    <div id="car-results" class="hidden">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
        <h2 id="txt-title-take">Available Cars</h2>
        <button onclick="goBack()" class="action-btn" style="padding:6px 15px;justify-content:center;">Back</button>
      </div>

      <div class="car-grid">
        <div class="car-item">
          <div class="car-tag">Available</div>
          <h3 style="margin-bottom:5px;">Chevrolet Tahoe</h3>
          <p style="font-size:12px;opacity:.6;margin-bottom:15px;"><i class="fas fa-map-marker-alt"></i> Tashkent, Uzbekistan</p>
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <span class="car-price">$1200 <small style="font-size:10px;opacity:.5;">/mo</small></span>
            <button class="action-btn" style="background:var(--secondary);border:none;"><i class="fas fa-phone"></i> Contact</button>
          </div>
        </div>

        <div class="car-item">
          <div class="car-tag">Premium</div>
          <h3 style="margin-bottom:5px;">Mercedes-Benz G63</h3>
          <p style="font-size:12px;opacity:.6;margin-bottom:15px;"><i class="fas fa-map-marker-alt"></i> Dubai, UAE</p>
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <span class="car-price">$5500 <small style="font-size:10px;opacity:.5;">/mo</small></span>
            <button class="action-btn" style="background:var(--secondary);border:none;"><i class="fas fa-phone"></i> Contact</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    /* ===================== 50 Languages (list) ===================== */
    const langList50 = [
      "O'zbek", "English", "–†—É—Å—Å–∫–∏–π", "T√ºrk√ße", "Deutsch", "Fran√ßais", "Espa√±ol", "Italiano", "Portugu√™s",
      "O'zbek (Krill)", "“ö–∞–∑–∞“õ—à–∞", "–ö—ã—Ä–≥—ã–∑—á–∞", "–¢–æ“∑–∏–∫”£", "T√ºrkmen√ße", "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", "ŸÅÿßÿ±ÿ≥€å", "Az…ôrbaycan",
      "Polski", "Nederlands", "ÌïúÍµ≠Ïñ¥", "Êó•Êú¨Ë™û", "‰∏≠Êñá", "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", "Ti·∫øng Vi·ªát", "‡πÑ‡∏ó‡∏¢",
      "Svenska", "Norsk", "Dansk", "Suomi", "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨", "Magyar", "ƒåe≈°tina", "Rom√¢nƒÉ",
      "–ë—ä–ª–≥–∞—Ä—Å–∫–∏", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞", "Hrvatski", "Srpski", "Slovenƒçina", "Lietuvi≈≥", "Latvie≈°u",
      "Eesti", "◊¢◊ë◊®◊ô◊™", "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ", "ÿßÿ±ÿØŸà", "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç", "‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç", "‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å", "‡≤ï‡≤®‡≥ç‡≤®‡≤°", "‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä", "Filipino"
    ];

    /* ===================== Base texts (real translations for main languages) ===================== */
    const translations = {
      "English": { login:"Login", give:"Rent Out", take:"Rent In", givesub:"Add a car", takesub:"Search car", reg:"Registration", submit:"Continue", back:"‚Üê Back", name:"Full Name", phone:"Phone", model:"Car Model", loc:"Location", mon:"Monthly ($)", year:"Yearly ($)", title_take:"Available Cars", search:"Search..." },
      "O'zbek": { login:"Kirish", give:"Ijaraga berish", take:"Ijaraga olish", givesub:"Mashina qo'shish", takesub:"Mashina qidirish", reg:"Ro‚Äòyxatdan o‚Äòtish", submit:"Davom etish", back:"‚Üê Orqaga", name:"F.I.Sh", phone:"Telefon", model:"Mashina modeli", loc:"Manzil", mon:"Oylik ($)", year:"Yillik ($)", title_take:"Mavjud mashinalar", search:"Qidirish..." },
      "–†—É—Å—Å–∫–∏–π": { login:"–í—Ö–æ–¥", give:"–°–¥–∞—Ç—å", take:"–°–Ω—è—Ç—å", givesub:"–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ", takesub:"–ü–æ–∏—Å–∫ –∞–≤—Ç–æ", reg:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", submit:"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", back:"‚Üê –ù–∞–∑–∞–¥", name:"–§–ò–û", phone:"–¢–µ–ª–µ—Ñ–æ–Ω", model:"–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ", loc:"–ê–¥—Ä–µ—Å", mon:"–í –º–µ—Å—è—Ü ($)", year:"–í –≥–æ–¥ ($)", title_take:"–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≤—Ç–æ", search:"–ü–æ–∏—Å–∫..." },
      "T√ºrk√ße": { login:"Giri≈ü", give:"Kiraya Ver", take:"Kirala", givesub:"Araba ekle", takesub:"Ara", reg:"Kayƒ±t", submit:"Devam", back:"‚Üê Geri", name:"Ad Soyad", phone:"Telefon", model:"Araba Modeli", loc:"Konum", mon:"Aylƒ±k ($)", year:"Yƒ±llƒ±k ($)", title_take:"Uygun Arabalar", search:"Ara..." },
      "Deutsch": { login:"Anmelden", give:"Vermieten", take:"Mieten", givesub:"Auto hinzuf√ºgen", takesub:"Suchen", reg:"Registrierung", submit:"Weiter", back:"‚Üê Zur√ºck", name:"Name", phone:"Telefon", model:"Automodell", loc:"Standort", mon:"Monatlich ($)", year:"J√§hrlich ($)", title_take:"Verf√ºgbare Autos", search:"Suchen..." },
      "Fran√ßais": { login:"Connexion", give:"Louer", take:"Prendre", givesub:"Ajouter", takesub:"Chercher", reg:"Inscription", submit:"Continuer", back:"‚Üê Retour", name:"Nom complet", phone:"T√©l√©phone", model:"Mod√®le", loc:"Adresse", mon:"Mensuel ($)", year:"Annuel ($)", title_take:"Voitures disponibles", search:"Rechercher..." },
      "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©": { login:"ÿØÿÆŸàŸÑ", give:"ÿ™ÿ£ÿ¨Ÿäÿ±", take:"ÿßÿ≥ÿ™ÿ¶ÿ¨ÿßÿ±", givesub:"ÿ•ÿ∂ÿßŸÅÿ© ÿ≥Ÿäÿßÿ±ÿ©", takesub:"ÿ®ÿ≠ÿ´", reg:"ÿ™ÿ≥ÿ¨ŸäŸÑ", submit:"ŸÖÿ™ÿßÿ®ÿπÿ©", back:"‚Üê ÿ±ÿ¨Ÿàÿπ", name:"ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ", phone:"ÿßŸÑŸáÿßÿ™ŸÅ", model:"ŸÖŸàÿØŸäŸÑ ÿßŸÑÿ≥Ÿäÿßÿ±ÿ©", loc:"ÿßŸÑŸÖŸàŸÇÿπ", mon:"ÿ¥Ÿáÿ±Ÿä ($)", year:"ÿ≥ŸÜŸàŸä ($)", title_take:"ÿßŸÑÿ≥Ÿäÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©", search:"ÿ®ÿ≠ÿ´..." },
      "‰∏≠Êñá": { login:"ÁôªÂΩï", give:"Âá∫Áßü", take:"ÁßüËΩ¶", givesub:"Ê∑ªÂä†ËΩ¶ËæÜ", takesub:"ÊêúÁ¥¢", reg:"Ê≥®ÂÜå", submit:"ÁªßÁª≠", back:"‚Üê ËøîÂõû", name:"ÂßìÂêç", phone:"ÁîµËØù", model:"ËΩ¶Âûã", loc:"Âú∞ÁÇπ", mon:"ÊØèÊúà ($)", year:"ÊØèÂπ¥ ($)", title_take:"ÂèØÁî®ËΩ¶ËæÜ", search:"ÊêúÁ¥¢..." },
      "Êó•Êú¨Ë™û": { login:"„É≠„Ç∞„Ç§„É≥", give:"Ë≤∏„ÅóÂá∫„Åô", take:"ÂÄü„Çä„Çã", givesub:"Ëªä„ÇíËøΩÂä†", takesub:"Ê§úÁ¥¢", reg:"ÁôªÈå≤", submit:"Á∂öË°å", back:"‚Üê Êàª„Çã", name:"Ê∞èÂêç", phone:"ÈõªË©±", model:"ËªäÁ®Æ", loc:"Â†¥ÊâÄ", mon:"ÊúàÈ°ç ($)", year:"Âπ¥È°ç ($)", title_take:"Âà©Áî®ÂèØËÉΩ„Å™Ëªä", search:"Ê§úÁ¥¢..." },
      "ÌïúÍµ≠Ïñ¥": { login:"Î°úÍ∑∏Ïù∏", give:"ÎåÄÏó¨", take:"Î†åÌä∏", givesub:"Ï∞®Îüâ Ï∂îÍ∞Ä", takesub:"Í≤ÄÏÉâ", reg:"Îì±Î°ù", submit:"Í≥ÑÏÜç", back:"‚Üê Îí§Î°ú", name:"Ïù¥Î¶Ñ", phone:"Ï†ÑÌôî", model:"Ï∞®Îüâ Î™®Îç∏", loc:"ÏúÑÏπò", mon:"ÏõîÍ∞Ñ ($)", year:"Ïó∞Í∞Ñ ($)", title_take:"Ïù¥Ïö© Í∞ÄÎä•Ìïú Ï∞®Îüâ", search:"Í≤ÄÏÉâ..." },
      "Espa√±ol": { login:"Entrar", give:"Alquilar", take:"Rentar", givesub:"A√±adir coche", takesub:"Buscar", reg:"Registro", submit:"Continuar", back:"‚Üê Volver", name:"Nombre", phone:"Tel√©fono", model:"Modelo", loc:"Ubicaci√≥n", mon:"Mensual ($)", year:"Anual ($)", title_take:"Autos disponibles", search:"Buscar..." },
      "Italiano": { login:"Accedi", give:"Noleggia", take:"Affitta", givesub:"Aggiungi", takesub:"Cerca", reg:"Registrazione", submit:"Continua", back:"‚Üê Indietro", name:"Nome", phone:"Telefono", model:"Modello", loc:"Posizione", mon:"Mensile ($)", year:"Annuale ($)", title_take:"Auto disponibili", search:"Cerca..." },
      "Portugu√™s": { login:"Entrar", give:"Alugar", take:"Arrendar", givesub:"Adicionar", takesub:"Procurar", reg:"Registro", submit:"Continuar", back:"‚Üê Voltar", name:"Nome", phone:"Telefone", model:"Modelo", loc:"Localiza√ß√£o", mon:"Mensal ($)", year:"Anual ($)", title_take:"Carros dispon√≠veis", search:"Pesquisar..." }
    };

    /* Qolgan tillar ham ‚Äúmavjud‚Äù bo‚Äòlishi uchun: agar tarjima yo‚Äòq bo‚Äòlsa English ishlaydi */
    langList50.forEach(l => { if(!translations[l]) translations[l] = translations["English"]; });

    /* ===================== Countries (with flag + dial code) ===================== */
    const countries = [
      { n:"Uzbekistan", flag:"üá∫üáø", c:"+998" },
      { n:"USA", flag:"üá∫üá∏", c:"+1" },
      { n:"Russia", flag:"üá∑üá∫", c:"+7" },
      { n:"Turkey", flag:"üáπüá∑", c:"+90" },
      { n:"Germany", flag:"üá©üá™", c:"+49" },
      { n:"United Kingdom", flag:"üá¨üáß", c:"+44" },
      { n:"UAE", flag:"üá¶üá™", c:"+971" },
      { n:"Kazakhstan", flag:"üá∞üáø", c:"+7" },
      { n:"Kyrgyzstan", flag:"üá∞üá¨", c:"+996" },
      { n:"Tajikistan", flag:"üáπüáØ", c:"+992" },
      { n:"South Korea", flag:"üá∞üá∑", c:"+82" },
      { n:"Poland", flag:"üáµüá±", c:"+48" },
      { n:"France", flag:"üá´üá∑", c:"+33" },
      { n:"Italy", flag:"üáÆüáπ", c:"+39" },
      { n:"Egypt", flag:"üá™üá¨", c:"+20" },
      { n:"India", flag:"üáÆüá≥", c:"+91" },
      { n:"Japan", flag:"üáØüáµ", c:"+81" },
      { n:"China", flag:"üá®üá≥", c:"+86" }
    ];

    /* ===================== Overlay controller ===================== */
    let overlayMode = "language"; // "language" | "country"
    let currentMode = "";

    const overlay = document.getElementById("overlay-screen");
    const overlayTitle = document.getElementById("overlay-title");
    const overlayContent = document.getElementById("overlay-content");
    const overlaySearch = document.getElementById("overlay-search");
    const overlayBackBtn = document.getElementById("overlay-back-btn");

    function clearOverlay(){
      overlayContent.innerHTML = "";
      overlaySearch.value = "";
    }

    function setDirIfNeeded(lang){
      document.body.dir = (lang === "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©") ? "rtl" : "ltr";
    }

    function applyText(lang){
      const t = translations[lang] || translations["English"];

      document.getElementById("txt-login").innerText = t.login;
      document.getElementById("txt-give").innerText = t.give;
      document.getElementById("txt-take").innerText = t.take;
      document.getElementById("txt-givesub").innerText = t.givesub;
      document.getElementById("txt-takesub").innerText = t.takesub;

      document.getElementById("reg-title").innerText = t.reg;
      document.getElementById("btn-next").innerText = t.submit;
      document.getElementById("txt-back").innerText = t.back;

      document.getElementById("inp-name").placeholder = t.name;
      document.getElementById("inp-phone").placeholder = t.phone;
      document.getElementById("inp-model").placeholder = t.model;
      document.getElementById("inp-loc").placeholder = t.loc;
      document.getElementById("inp-mon").placeholder = t.mon;
      document.getElementById("inp-year").placeholder = t.year;

      document.getElementById("txt-title-take").innerText = t.title_take;

      overlaySearch.placeholder = t.search || "Search...";
      setDirIfNeeded(lang);
    }

    function setLang(lang){
      localStorage.setItem("lang", lang);
      applyText(lang);
      overlay.style.display = "none";
    }

    function buildLanguageOverlay(){
      overlayMode = "language";
      clearOverlay();
      overlayTitle.innerText = "Select Language";
      overlayBackBtn.style.display = "none";

      langList50.forEach(l => {
        const btn = document.createElement("button");
        btn.className = "action-btn";
        btn.innerHTML = `<i class="fa-solid fa-language"></i> <span>${l}</span>`;
        btn.onclick = () => setLang(l);
        overlayContent.appendChild(btn);
      });

      overlay.style.display = "flex";
    }

    function buildCountryOverlay(){
      overlayMode = "country";
      clearOverlay();
      overlayTitle.innerText = "Select Country Code";
      overlayBackBtn.style.display = "flex";
      overlayBackBtn.onclick = () => {
        // country overlaydan chiqib ketish (formga qaytish)
        overlay.style.display = "none";
      };

      renderCountries(countries);
      overlay.style.display = "flex";
    }

    function renderCountries(list){
      overlayContent.innerHTML = "";
      list.forEach(item => {
        const btn = document.createElement("button");
        btn.className = "action-btn";
        btn.innerHTML = `<span style="font-size:18px">${item.flag}</span><span>${item.n}</span><span class="badge">${item.c}</span>`;
        btn.onclick = () => {
          document.getElementById("country-flag").innerText = item.flag;
          document.getElementById("country-dial").innerText = item.c;
          overlay.style.display = "none";
        };
        overlayContent.appendChild(btn);
      });
    }

    overlaySearch.addEventListener("input", () => {
      const q = overlaySearch.value.trim().toLowerCase();

      if(overlayMode === "language"){
        // language filter
        const filtered = langList50.filter(x => x.toLowerCase().includes(q));
        overlayContent.innerHTML = "";
        filtered.forEach(l => {
          const btn = document.createElement("button");
          btn.className = "action-btn";
          btn.innerHTML = `<i class="fa-solid fa-language"></i> <span>${l}</span>`;
          btn.onclick = () => setLang(l);
          overlayContent.appendChild(btn);
        });
      } else {
        // country filter
        const filtered = countries.filter(x =>
          x.n.toLowerCase().includes(q) || x.c.toLowerCase().includes(q)
        );
        renderCountries(filtered);
      }
    });

    /* ===================== Page actions ===================== */
    function openCountryPicker(){
      buildCountryOverlay();
    }

    function showRegistration(mode){
      currentMode = mode;
      document.getElementById("step-choice").classList.add("hidden");
      document.getElementById("form-register").classList.remove("hidden");

      if(mode === "give"){
        document.getElementById("extra-fields").classList.remove("hidden");
      } else {
        document.getElementById("extra-fields").classList.add("hidden");
      }
    }

    function handleFormSubmit(){
      if(currentMode === "take"){
        document.getElementById("form-register").classList.add("hidden");
        document.getElementById("car-results").classList.remove("hidden");
      } else {
        alert("Success! Your car is posted.");
        location.reload();
      }
    }

    function goBack(){
      document.getElementById("step-choice").classList.remove("hidden");
      document.getElementById("form-register").classList.add("hidden");
      document.getElementById("car-results").classList.add("hidden");
    }

    // phone only digits
    document.getElementById("inp-phone").addEventListener("input", (e) => {
      e.target.value = e.target.value.replace(/[^0-9]/g, "");
    });

    /* ===================== Start ===================== */
    buildLanguageOverlay();

    // auto apply saved language
    const savedLang = localStorage.getItem("lang");
    if(savedLang){
      applyText(savedLang);
      overlay.style.display = "none";
    }
  </script>
</body>
</html>
